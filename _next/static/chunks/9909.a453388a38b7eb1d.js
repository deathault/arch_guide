"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9909],{69909:(e,t,r)=>{r.r(t),r.d(t,{JavaScriptScanner:()=>e9,createJavaScriptRawEngine:()=>e6,createJavaScriptRegexEngine:()=>e5,defaultJavaScriptRegexConstructor:()=>e4});let n=String.raw,a=n`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,s=n`\u{E0061}-\u{E007A}`,i=()=>RegExp(n`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${s}]{2}[\u{E0030}-\u{E0039}${s}]{1,3}\u{E007F}|${a}(?:\u200D${a})*`,"gu"),o=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function l(e,t,r,n){let a=RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),s=[!1],i=0,l="";for(let t of e.matchAll(a)){let{0:e,groups:{$skip:a}}=t;if(!a&&(!n||n===o.DEFAULT==!i)){r instanceof Function?l+=r(t,{context:i?o.CHAR_CLASS:o.DEFAULT,negated:s[s.length-1]}):l+=r;continue}"["===e[0]?(i++,s.push("^"===e[1])):"]"===e&&i&&(i--,s.pop()),l+=e}return l}function u(e,t,r){return!!function(e,t,r=0,n){let a;if(!RegExp(t,"su").test(e))return null;let s=RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=r;let i=0;for(;a=s.exec(e);){let{0:e,groups:{$skip:t}}=a;if(!t&&(!n||n===o.DEFAULT==!i))return a;"["===e?i++:"]"===e&&i&&i--,s.lastIndex==a.index&&s.lastIndex++}return null}(e,t,0,r)}class c extends RegExp{_captureMap;_namesByIndex;constructor(e,t,r){if(e instanceof RegExp&&r)throw Error("Cannot provide options when copying a regexp");let n=!!r?.useEmulationGroups,a=n?function(e){let t="$E$".replace(/\$/g,"\\$"),r=[{exclude:!1}],n={0:""},a=0;return e=l(e,String.raw`\((?:(?!\?)|\?<(?![=!])(?<name>[^>]+)>)(?<mark>(?:\$(?<transfer>[1-9]\d*))?${t})?`,({0:e,groups:{name:t,mark:s,transfer:i}})=>s?(r.push({exclude:!0,transfer:i&&+i}),e.slice(0,-s.length)):(a++,t&&(n[a]=t),r.push({exclude:!1}),e),o.DEFAULT),{_captureMap:r,_namesByIndex:n,expression:e}}(e):null;super(a?.expression||e,t);let s=n?a:e instanceof c?e:null;s&&(this._captureMap=s._captureMap,this._namesByIndex=s._namesByIndex)}exec(e){let t;let r=RegExp.prototype.exec.call(this,e);if(!r||!this._captureMap)return r;let n=[...r];r.length=1,this.hasIndices&&(t=[...r.indices],r.indices.length=1);for(let e=1;e<n.length;e++)if(this._captureMap[e].exclude){let a=this._captureMap[e].transfer;if(a&&r.length>a){r[a]=n[e];let s=this._namesByIndex[a];s&&(r.groups[s]=n[e],this.hasIndices&&(r.indices.groups[s]=t[e])),this.hasIndices&&(r.indices[a]=t[e])}}else r.push(n[e]),this.hasIndices&&r.indices.push(t[e]);return r}}let p=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`,f=RegExp(String.raw`(?<noncapturingStart>${p})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu"),d=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,g=RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${d})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu"),h=String.raw,C=h`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,m=h`\(\?R=(?<rDepth>[^\)]+)\)|${C}`,b=h`\(\?<(?![=!])(?<captureName>[^>]+)>`,y=RegExp(h`${b}|${m}|\(\?|\\?.`,"gsu"),x="Cannot use multiple overlapping recursions",k=RegExp(h`(?:\$[1-9]\d*)?${"$E$".replace(/\$/g,h`\$`)}`,"y");function E(e){let t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e)||(e=+e)<2||e>100)throw Error(t)}function w(e,t,r,n,a){let s=new Set;n&&l(e+t,b,({groups:{captureName:e}})=>{s.add(e)},o.DEFAULT);let i=r-1;return`${e}${$(`(?:${e}`,i,n?s:null,"forward",a)}(?:)${$(`${t})`,i,n?s:null,"backward",a)}${t}`}function $(e,t,r,n,a){let s=e=>"backward"===n?t-e+2-1:e+2,i="";for(let n=0;n<t;n++){let t=s(n);i+=l(e,h`${b}|\\k<(?<backref>[^>]+)>${a?h`|(?<unnamed>\()(?!\?)(?:${k.source})?`:""}`,({0:e,index:n,groups:{captureName:s,backref:i,unnamed:o}})=>{if(i&&r&&!r.has(i))return e;if(o)return"($E$";let l=`_$${t}`;return s?`(?<${s}${l}>${a?"$E$":""}`:h`\k<${i}${l}>`},o.DEFAULT)}return i}var _=String.fromCodePoint,A=String.raw,S=(()=>{try{RegExp("(?i:)")}catch{return!1}return!0})(),v=(()=>{try{RegExp("","v")}catch{return!1}return!0})();function I(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function M(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function G(e,t){if(!e)throw Error(t??"Value expected");return e}var L={ES2025:2025,ES2024:2024,ES2018:2018},F={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function R(e){if(e?.target!==void 0&&!F[e.target])throw Error(`Unexpected target "${e.target}"`);let t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e?.rules}};return"auto"===t.target&&(t.target=S?"ES2025":v?"ES2024":"ES2018"),t}var N=new Set([_(304),_(305)]);function P(e){if(N.has(e))return[e];let t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),a=T.get(r),s=j.get(r),i=V.get(r);return 1==[...n].length&&t.add(n),i&&t.add(i),a&&t.add(a),t.add(r),s&&t.add(s),[...t]}var B=new Set(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/)),D=new Map;for(let e of B)D.set(X(e),e);var O=new Set(["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji","RGI_Emoji_Flag_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence"]),U=new Map;for(let e of O)U.set(X(e),e);var j=new Map([["s",_(383)],[_(383),"s"]]),V=new Map([[_(223),_(7838)],[_(107),_(8490)],[_(229),_(8491)],[_(969),_(8486)]]),T=new Map([Q(453),Q(456),Q(459),Q(498),...Z(8072,8079),...Z(8088,8095),...Z(8104,8111),Q(8124),Q(8140),Q(8188)]),W=new Map([["alnum",A`[\p{Alpha}\p{Nd}]`],["alpha",A`\p{Alpha}`],["ascii",A`\p{ASCII}`],["blank",A`[\p{Zs}\t]`],["cntrl",A`\p{cntrl}`],["digit",A`\p{Nd}`],["graph",A`[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]`],["lower",A`\p{Lower}`],["print",A`[[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",A`[\p{P}\p{S}]`],["space",A`\p{space}`],["upper",A`\p{Upper}`],["word",A`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",A`\p{AHex}`]]),H=new Set(["alnum","blank","graph","print","word","xdigit"]);function X(e){return e.replace(/[- _]+/g,"").toLowerCase()}function Q(e){let t=_(e);return[t.toLowerCase(),t]}function Z(e,t){return(function(e,t){let r=[];for(let n=e;n<=t;n++)r.push(n);return r})(e,t).map(e=>Q(e))}var q=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),z={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",VariableLengthCharacterSet:"VariableLengthCharacterSet",EscapedNumber:"EscapedNumber"},J={any:"any",digit:"digit",dot:"dot",hex:"hex",non_newline:"non_newline",posix:"posix",property:"property",space:"space",word:"word"},K={flags:"flags",keep:"keep"},Y={atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},ee=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),et=A`\[\^?`,er=`c.? | C(?:-.?)?|${A`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${A`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${A`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${A`o\{[^\}]*\}?`}|${A`\d{1,3}`}`,en=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,ea=RegExp(A`
  \\ (?:
    ${er}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?: \? (?:
    [:=!>(~]
    | <[=!]
    | <[^>]*>
    | '[^']*'
    | # (?:[^)\\] | \\.?)*
    | [imx\-]+[:)]
  )?)?
  | ${en.source}
  | ${et}
  | .
`.replace(/\s+/g,""),"gsu"),es=RegExp(A`
  \\ (?:
    ${er}
    | .
  )
  | \[:[^:]*:\]
  | ${et}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function ei(e,t="",r){let n;if(r={captureGroup:!1,singleline:!1,...r},"string"!=typeof e)throw Error("String expected as pattern");if(!/^[imxDSW]*$/.test(t))throw Error(`Flags "${t}" includes unsupported value`);let a=t.includes("x"),s=[a],i={captureGroup:r.captureGroup,getCurrentModX:()=>s.at(-1),numOpenGroups:0,popModX(){s.pop()},pushModX(e){s.push(e)},replaceCurrentModX(e){s[s.length-1]=e},singleline:r.singleline},o=[];for(ea.lastIndex=0;n=ea.exec(e);){let t=function(e,t,r,n){let[a,s,i]=r;if("["===a){let e=function(e,t,r){let n;let a=[el(z.CharacterClassOpen,t,{negate:"^"===t[1]})],s=1;for(es.lastIndex=r;n=es.exec(e);){let e=n[0];if("["===e[0]&&":"!==e[1])s++,a.push(el(z.CharacterClassOpen,e,{negate:"^"===e[1]}));else if("]"===e){if(a.at(-1).type===z.CharacterClassOpen)a.push(el(z.Character,e,{value:93}));else if(s--,a.push(el(z.CharacterClassClose,e)),!s)break}else{let t=function(e){if("\\"===e[0])return eo(e,{inCharClass:!0});if("["===e[0]){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!W.get(t.groups.name))throw Error(`Invalid POSIX class "${e}"`);return el(z.CharacterSet,e,{kind:J.posix,negate:!!t.groups.negate,value:t.groups.name})}return"-"===e?el(z.CharacterClassHyphen,e):"&&"===e?el(z.CharacterClassIntersector,e):(ec(e),el(z.Character,e,{value:e.codePointAt(0)}))}(e);Array.isArray(t)?a.push(...t):a.push(t)}}return{tokens:a,lastIndex:es.lastIndex||e.length}}(t,r,n);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===a){if("AbBGzZ".includes(s))return{token:el(z.Assertion,r,{kind:r})};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:el(z.Subroutine,r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:el(z.Backreference,r)}}if("K"===s)return{token:el(z.Directive,r,{kind:K.keep})};if("N"===s)return{token:el(z.CharacterSet,r,{kind:J.non_newline})};if("O"===s)return{token:el(z.CharacterSet,r,{kind:J.any})};if("RX".includes(s))return{token:el(z.VariableLengthCharacterSet,r,{kind:r})};if("yY".includes(s))throw Error(`Unsupported grapheme boundary "${r}"`);let e=eo(r,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===a){if("#"===i){if(")"!==t[n])throw Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if("-imx".includes(i))return{token:function(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[imx\-]*))?/.exec(e).groups;n??="";let a=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),s=eu(r),i=eu(n),o={};if(s&&(o.enable=s),i&&(o.disable=i),e.endsWith(")"))return t.replaceCurrentModX(a),el(z.Directive,e,{kind:K.flags,flags:o});if(e.endsWith(":")){t.pushModX(a),t.numOpenGroups++;let r=el(z.GroupOpen,e,{kind:Y.group});return(s||i)&&(r.flags=o),r}throw Error(`Unexpected flag modifier "${e}"`)}(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===r&&!e.captureGroup||"(?:"===r)return{token:el(z.GroupOpen,r,{kind:Y.group})};if("(?>"===r)return{token:el(z.GroupOpen,r,{kind:Y.atomic})};if("(?="===r||"(?!"===r||"(?<="===r||"(?<!"===r)return{token:el(z.GroupOpen,r,{kind:"<"===i?Y.lookbehind:Y.lookahead,negate:r.endsWith("!")})};if("<"===i||"'"===i||"("===r&&e.captureGroup){let e=el(z.GroupOpen,r,{kind:Y.capturing});return"("!==r&&(e.name=r.slice(3,-1)),{token:e}}if("("===i)throw Error(`Unsupported conditional "${r}"`);if("~"===i)throw Error(`Unsupported absence operator "${r}"`);if("(?"===r)throw Error("Invalid group");throw Error(`Unexpected group "${r}"`)}if(")"===r){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw Error('Unmatched ")"');return{token:el(z.GroupClose,r)}}if("#"===r&&e.getCurrentModX()){let e=t.indexOf("\n",n);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(r)&&e.getCurrentModX()){let e=/\s+/y;return e.lastIndex=n,{lastIndex:e.exec(t)?e.lastIndex:n}}if("."===r)return{token:el(z.CharacterSet,r,{kind:J.dot})};if("^"===r||"$"===r){let t=e.singleline?({"^":A`\A`,$:A`\Z`})[r]:r;return{token:el(z.Assertion,r,{kind:t})}}return"|"===r?{token:el(z.Alternator,r)}:en.test(r)?{token:function(e){let t={};if("{"===e[0]){let{min:r,max:n}=/^\{(?<min>\d*)(?:,(?<max>\d*))?/.exec(e).groups;if(+r>1e5||+n>1e5)throw Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=void 0===n?+r:""===n?1/0:+n,t.greedy=!e.endsWith("?"),t.possessive=!1}else t.min="+"===e[0]?1:0,t.max="?"===e[0]?1:1/0,t.greedy="?"!==e[1],t.possessive="+"===e[1];return el(z.Quantifier,e,t)}(r)}:(ec(r),{token:el(z.Character,r,{value:r.codePointAt(0)})})}(i,e,n[0],ea.lastIndex);t.tokens?o.push(...t.tokens):t.token&&o.push(t.token),void 0!==t.lastIndex&&(ea.lastIndex=t.lastIndex)}let l=[],u=0;o.forEach(e=>{e.type===z.GroupOpen&&(e.kind===Y.capturing?e.number=++u:"("===e.raw&&l.push(e))}),u||l.forEach((e,t)=>{e.kind=Y.capturing,e.number=t+1});let c=u||l.length;return{tokens:o=o.map(e=>e.type===z.EscapedNumber?function(e,t){let{raw:r,inCharClass:n}=e,a=r.slice(1);if(!n&&("0"!==a&&1===a.length||"0"!==a[0]&&+a<=t))return[el(z.Backreference,r)];let s=[],i=a.match(/^[0-7]+|\d/g);for(let e=0;e<i.length;e++){let t;let n=i[e];if(0===e&&"8"!==n&&"9"!==n){if((t=parseInt(n,8))>127)throw Error(A`Octal encoded byte above 177 unsupported "${r}"`)}else t=n.codePointAt(0);s.push(el(z.Character,(0===e?"\\":"")+n,{value:t}))}return s}(e,c):e).flat(),flags:{ignoreCase:t.includes("i"),dotAll:t.includes("m"),extended:a,digitIsAscii:t.includes("D"),spaceIsAscii:t.includes("S"),wordIsAscii:t.includes("W")},rules:r}}function eo(e,{inCharClass:t}){let r=e[1];if("c"===r||"C"===r)return function(e){let t="c"===e[1]?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw Error(`Unsupported control character "${e}"`);return el(z.Character,e,{value:t.toUpperCase().codePointAt(0)-64})}(e);if("dDhHsSwW".includes(r))return function(e){let t=e[1].toLowerCase();return el(z.CharacterSet,e,{kind:{d:J.digit,h:J.hex,s:J.space,w:J.word}[t],negate:e[1]!==t})}(e);if(e.startsWith(A`\o{`))throw Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(3===e.length)throw Error(`Incomplete or invalid Unicode property "${e}"`);return function(e){let{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return el(z.CharacterSet,e,{kind:J.property,negate:"P"===t&&!r||"p"===t&&!!r,value:n})}(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),n=new TextEncoder;return[...r].map(e=>{let t=[...n.encode(e)].map(e=>`\\x${e.toString(16)}`).join("");return el(z.Character,t,{value:e.codePointAt(0)})})}catch{throw Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if("u"===r||"x"===r)return el(z.Character,e,{value:function(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw Error(`Incomplete or invalid escape "${e}"`);return parseInt("{"===e[2]?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2),16)}(e)});if(ee.has(r))return el(z.Character,e,{value:ee.get(r)});if(/\d/.test(r))return el(z.EscapedNumber,e,{inCharClass:t});if("\\"===e)throw Error(A`Incomplete escape "\"`);if("M"===r)throw Error(`Unsupported meta "${e}"`);if(2==[...e].length)return el(z.Character,e,{value:e.codePointAt(1)});throw Error(`Unexpected escape "${e}"`)}function el(e,t,r){return{type:e,raw:t,...r}}function eu(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function ec(e){if(1!=[...e].length)throw Error(`Expected "${e}" to be a single code point`)}function ep({alternatives:e},t){return 1===e.length&&1===e[0].elements.length&&(!t||t(e[0].elements[0]))}function ef({type:e}){return e===eC.CapturingGroup||e===eC.Group}function ed({type:e,kind:t}){return e===eC.Assertion&&(t===em.lookahead||t===em.lookbehind)}function eg(e,t,r){let n=e.node;for(;n.parent;)n=n.parent;function a(e,t){for(let r=0;r<e.length;r++){let n=s(e[r],t,r,e);r=Math.max(-1,r+n)}}function s(e,i=null,o=null,l=null){let u=0,c=!1,p={node:e,parent:i,key:o,container:l,ast:n,remove(){G(l,"Container expected").splice(Math.max(0,o+u),1),u-=1},removeAllNextSiblings:()=>G(l,"Container expected").splice(o+1),removeAllPrevSiblings(){let e=o+u;return u-=e,G(l,"Container expected").splice(0,Math.max(0,e))},replaceWith(e){"parent"in i&&(e.parent=i),l?l[Math.max(0,o+u)]=e:i[o]=e},skip(){c=!0}},f=(function(e){let t=[eh.AnyNode];return(ef(e)||ed(e))&&t.push(eh.AnyGroup),t.push(e.type),t})(e).find(e=>!!r[e]),d=f&&r[f],g="function"==typeof d?d:d?.enter,h=d?.exit;if(g?.(p,t),!c)switch(e.type){case eC.Regex:s(e.pattern,e,"pattern"),s(e.flags,e,"flags");break;case eC.Alternative:case eC.CharacterClass:a(e.elements,e);break;case eC.Assertion:ed(e)&&a(e.alternatives,e);break;case eC.Backreference:case eC.Character:case eC.CharacterSet:case eC.Directive:case eC.Flags:case eC.Recursion:case eC.Subroutine:case eC.VariableLengthCharacterSet:break;case eC.CapturingGroup:case eC.Group:case eC.Pattern:a(e.alternatives,e);break;case eC.CharacterClassIntersection:a(e.classes,e);break;case eC.CharacterClassRange:s(e.min,e,"min"),s(e.max,e,"max");break;case eC.Quantifier:s(e.element,e,"element");break;default:throw Error(`Unexpected node type "${e.type}"`)}return h?.(p,t),u}s(e.node,e.parent,e.key,e.container)}var eh={AnyGroup:"AnyGroup",AnyNode:"AnyNode"},eC={Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassIntersection:"CharacterClassIntersection",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",VariableLengthCharacterSet:"VariableLengthCharacterSet",Recursion:"Recursion"},em={line_end:"line_end",line_start:"line_start",lookahead:"lookahead",lookbehind:"lookbehind",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},eb={grapheme:"grapheme",newline:"newline"};function ey({tokens:e,flags:t,rules:r},n){var a,s;let i={skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,verbose:!1,...n},o={capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,parent:null,skipBackrefValidation:i.skipBackrefValidation,skipLookbehindValidation:i.skipLookbehindValidation,skipPropertyNameValidation:i.skipPropertyNameValidation,subroutines:[],token:null,tokens:e,verbose:i.verbose,walk:l};function l(t,r){let n=e[o.current];switch(o.parent=t,o.token=n,o.current++,n.type){case z.Alternator:return ex();case z.Assertion:return eE(n);case z.Backreference:return function(e){let{raw:t}=e.token,r=/^\\k[<']/.test(t),n=r?t.slice(3,-1):t.slice(1),a=(r,n=!1)=>{let a=e.capturingGroups.length,s=!1;if(r>a){if(e.skipBackrefValidation)s=!0;else throw Error(`Not enough capturing groups defined to the left "${t}"`)}return e.hasNumberedRef=!0,ew(n?a+1-r:r,{orphan:s})};if(r){let r=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(r)return a(+r.groups.num,!!r.groups.sign);if(/[-+]/.test(n))throw Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(n))throw Error(`Group name not defined to the left "${t}"`);return ew(n)}return a(+n)}(o);case z.Character:return e_(n.value,{useLastValid:!!r.isCheckingRangeEnd});case z.CharacterClassHyphen:return function(e,t){let{parent:r,tokens:n,walk:a}=e,s=r.elements.at(-1),i=n[e.current];if(!t.isCheckingRangeEnd&&s&&s.type!==eC.CharacterClass&&s.type!==eC.CharacterClassRange&&i&&i.type!==z.CharacterClassOpen&&i.type!==z.CharacterClassClose&&i.type!==z.CharacterClassIntersector){let e=a(r,{...t,isCheckingRangeEnd:!0});if(s.type===eC.Character&&e.type===eC.Character)return r.elements.pop(),function(e,t){if(t.value<e.value)throw Error("Character class range out of order");return{type:eC.CharacterClassRange,min:e,max:t}}(s,e);throw Error("Invalid character class range")}return e_(45)}(o,r);case z.CharacterClassOpen:return function(e,t){let{token:r,tokens:n,verbose:a,walk:s}=e,i=n[e.current],o=eA({negate:r.negate}),l=o.elements[0],u=eG(i);for(;u.type!==z.CharacterClassClose;){if(u.type===z.CharacterClassIntersector)l.classes.push(eA({negate:!1,baseOnly:!0})),e.current++;else{let e=l.classes.at(-1);e.elements.push(s(e,t))}u=eG(n[e.current],i)}if(a||function(e){for(let t=0;t<e.classes.length;t++){let r=e.classes[t],n=r.elements[0];1===r.elements.length&&n.type===eC.CharacterClass&&(e.classes[t]=n,n.negate=r.negate!==n.negate)}}(l),1===l.classes.length){let e=l.classes[0];e.negate=o.negate!==e.negate,o=e}return e.current++,o}(o,r);case z.CharacterSet:return function({token:e,skipPropertyNameValidation:t}){let{kind:r,negate:n,value:a}=e;if(r===J.property){let e=X(a);if(!H.has(e))return eM(a,{negate:n,skipPropertyNameValidation:t});r=J.posix,a=e}return r===J.posix?{type:eC.CharacterSet,kind:J.posix,negate:n,value:a}:eS(r,{negate:n})}(o);case z.Directive:return function({kind:e,flags:t}){let r={type:eC.Directive,kind:G(K[e],`Unexpected directive kind "${e}"`)};return e===K.flags&&(r.flags=t),r}(n);case z.GroupOpen:return function(e,t){let{token:r,tokens:n,capturingGroups:a,namedGroupsByName:s,skipLookbehindValidation:i,verbose:o,walk:l}=e,u=function(e){let{kind:t,number:r,name:n,flags:a}=e;switch(t){case Y.atomic:return ev({atomic:!0});case Y.capturing:return e$(r,n);case Y.group:return ev({flags:a});case Y.lookahead:case Y.lookbehind:return eE(e);default:throw Error(`Unexpected group kind "${t}"`)}}(r);u.type===eC.CapturingGroup&&(a.push(u),u.name&&M(s,u.name,[]).push(u));let c=eL(n[e.current]);for(;c.type!==z.GroupClose;){if(c.type===z.Alternator)u.alternatives.push(ex()),e.current++;else{let e=u.alternatives.at(-1),r=u.kind===em.lookbehind,n=r&&u.negate,a=l(e,{...t,isInLookbehind:t.isInLookbehind||r,isInNegLookbehind:t.isInNegLookbehind||n});if(e.elements.push(a),(r||t.isInLookbehind)&&!i){let e="Lookbehind includes a pattern not allowed by Oniguruma";if(n||t.isInNegLookbehind){if(a.kind===em.lookahead||a.type===eC.CapturingGroup)throw Error(e)}else if(a.kind===em.lookahead||a.kind===em.lookbehind&&a.negate)throw Error(e)}}c=eL(n[e.current])}return o||(u=function(e){let t=e.alternatives[0].elements[0];return e.type===eC.Group&&ep(e,e=>e.type===eC.Group)&&!(e.atomic&&t.flags)&&!(e.flags&&(t.atomic||t.flags))?(e.atomic?t.atomic=!0:e.flags&&(t.flags=e.flags),t):e}(u)),e.current++,u}(o,r);case z.Quantifier:return function({token:e,parent:t}){let{min:r,max:n,greedy:a,possessive:s}=e,i=t.elements.at(-1);if(!i||i.type===eC.Assertion||i.type===eC.Directive)throw Error("Quantifier requires a repeatable token");let o=function(e,t,r,n,a){let s={type:eC.Quantifier,min:t,max:r,greedy:n,possessive:a,element:e};return r<t?{...s,min:r,max:t,possessive:!0}:s}(i,r,n,a,s);return t.elements.pop(),o}(o);case z.Subroutine:return function(e){var t;let{token:r,capturingGroups:n,subroutines:a}=e,s=r.raw.slice(3,-1),i=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(s);if(i){let t=+i.groups.num,r=n.length;if(e.hasNumberedRef=!0,(s=({"":t,"+":r+t,"-":r+1-t})[i.groups.sign])<1)throw Error("Invalid subroutine number")}else"0"===s&&(s=0);let o=(t=s,{type:eC.Subroutine,ref:t});return a.push(o),o}(o);case z.VariableLengthCharacterSet:var a;return a=n.kind,{type:eC.VariableLengthCharacterSet,kind:G({"\\R":eb.newline,"\\X":eb.grapheme}[a],`Unexpected varcharset kind "${a}"`)};default:throw Error(`Unexpected token type "${n.type}"`)}}let u=(a={type:eC.Pattern,alternatives:[ex()]},s=function({ignoreCase:e,dotAll:t,extended:r,digitIsAscii:n,spaceIsAscii:a,wordIsAscii:s}){return{type:eC.Flags,ignoreCase:e,dotAll:t,extended:r,digitIsAscii:n,spaceIsAscii:a,wordIsAscii:s}}(t),{type:eC.Regex,pattern:a,flags:s}),c=u.pattern.alternatives[0];for(;o.current<e.length;){let e=l(c,{});e.type===eC.Alternative?(u.pattern.alternatives.push(e),c=e):c.elements.push(e)}let{capturingGroups:p,hasNumberedRef:f,namedGroupsByName:d,subroutines:g}=o;if(f&&d.size&&!r.captureGroup)throw Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:e}of g)if("number"==typeof e){if(e>p.length)throw Error("Subroutine uses a group number that's not defined")}else if(d.has(e)){if(d.get(e).length>1)throw Error(A`Subroutine uses a duplicate group name "\g<${e}>"`)}else throw Error(A`Subroutine uses a group name that's not defined "\g<${e}>"`);return eg({node:u},null,{AnyNode({node:e,parent:t}){e.parent=t}}),u}function ex(){return{type:eC.Alternative,elements:[]}}function ek(e,t){let r=!!t?.negate;return{type:eC.Assertion,kind:e,...e===em.word_boundary?{negate:r}:null}}function eE({type:e,kind:t,negate:r}){return e===z.GroupOpen?eI({behind:t===Y.lookbehind,negate:r}):ek(G({"^":em.line_start,$:em.line_end,"\\A":em.string_start,"\\b":em.word_boundary,"\\B":em.word_boundary,"\\G":em.search_start,"\\z":em.string_end,"\\Z":em.string_end_newline}[t],`Unexpected assertion kind "${t}"`),{negate:t===A`\B`})}function ew(e,t){let r=!!t?.orphan;return{type:eC.Backreference,...r&&{orphan:r},ref:e}}function e$(e,t){let r=void 0!==t;if(r&&!/^[\p{Alpha}\p{Pc}][^)]*$/u.test(t))throw Error(`Group name "${t}" invalid in Oniguruma`);return{type:eC.CapturingGroup,number:e,...r&&{name:t},alternatives:[ex()]}}function e_(e,t){let r={useLastValid:!1,...t};if(e>1114111){let t=e.toString(16);if(r.useLastValid)e=1114111;else if(e>1310719)throw Error(`Invalid code point out of range "\\x{${t}}"`);else throw Error(`Invalid code point out of range in JS "\\x{${t}}"`)}return{type:eC.Character,value:e}}function eA(e){let t={baseOnly:!1,negate:!1,...e};return{type:eC.CharacterClass,negate:t.negate,elements:t.baseOnly?[]:[{type:eC.CharacterClassIntersection,classes:[eA({negate:!1,baseOnly:!0})]}]}}function eS(e,{negate:t}){let r={type:eC.CharacterSet,kind:G(J[e],`Unexpected character set kind "${e}"`)};return(e===J.digit||e===J.hex||e===J.space||e===J.word)&&(r.negate=t),r}function ev(e){let t=e?.atomic,r=e?.flags;return{type:eC.Group,...t&&{atomic:t},...r&&{flags:r},alternatives:[ex()]}}function eI(e){let t={behind:!1,negate:!1,...e};return{type:eC.Assertion,kind:t.behind?em.lookbehind:em.lookahead,negate:t.negate,alternatives:[ex()]}}function eM(e,t){let r={negate:!1,skipPropertyNameValidation:!1,...t};return{type:eC.CharacterSet,kind:J.property,value:r.skipPropertyNameValidation?e:function(e){let t=X(e);if(U.has(t))throw Error(A`Unicode property "\p{${e}}" unsupported in Oniguruma`);return D.get(t)||e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}(e),negate:r.negate}}function eG(e,t){return G(e,`${t?.value===93?"Empty":"Unclosed"} character class`)}function eL(e){return G(e,"Unclosed group")}var eF={Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){let a=e.elements.filter(e=>e.kind===K.flags);for(let e=r+1;e<t.alternatives.length;e++)M(n,t.alternatives[e],[]).push(...a)},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let r=eV(t.get(e));if(r){let t=eX(ev({flags:r}),e.elements);t.parent=e,e.elements=[t]}}}},Assertion({node:e,key:t,container:r,ast:n,remove:a,replaceWith:s},i){let{kind:o,negate:l}=e,{asciiWordBoundaries:u,avoidSubclass:c,supportedGNodes:p,wordIsAscii:f}=i;if(o===em.line_end)s(eH(A`(?=\z|\n)`));else if(o===em.line_start)s(eH(A`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}));else if(o===em.lookbehind)i.passedLookbehind=!0;else if(o===em.search_start){if(p.has(e))n.flags.sticky=!0,a();else{let e=r[t-1];if(e&&function(e){let t=[eC.Character,eC.CharacterClass,eC.CharacterSet];return t.includes(e.type)||e.type===eC.Quantifier&&e.min&&t.includes(e.element.type)}(e))s(eX(eI({negate:!0})));else if(c)throw Error(A`Uses "\G" in a way that requires a subclass`);else s(ek(em.string_start)),i.strategy="search_start_clip"}}else if(o===em.string_end_newline)s(eH(A`(?=\n?\z)`));else if(o===em.word_boundary&&!f&&!u){let e=`(?:(?<=${eB})(?!${eB})|(?<!${eB})(?=${eB}))`,t=`(?:(?<=${eB})(?=${eB})|(?<!${eB})(?!${eB}))`;s(eH(l?t:e))}},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||eW(r)||(r=eU(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!eW(n)&&(n=eU(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterSet({node:e,replaceWith:t},{accuracy:r,minTargetEs2024:n,digitIsAscii:a,spaceIsAscii:s,wordIsAscii:i}){let{kind:o,negate:l,value:u}=e;if(a&&(o===J.digit||"digit"===u)){t(eS(J.digit,{negate:l}));return}if(s&&(o===J.space||"space"===u)){t(eQ(eH(eP),l));return}if(i&&(o===J.word||"word"===u)){t(eS(J.word,{negate:l}));return}if(o===J.any)t(eM("Any"));else if(o===J.digit)t(eM("Nd",{negate:l}));else if(o===J.hex)t(eM("AHex",{negate:l}));else if(o===J.non_newline)t(eH(A`[^\n]`));else if(o===J.space)t(eM("space",{negate:l}));else if(o===J.word)t(eQ(eH(eB),l));else if(o===J.property)B.has(u)||(e.key="sc");else if(o===J.posix){if(n||"graph"!==u&&"print"!==u)t(eQ(eH(W.get(u)),l));else{if("strict"===r)throw Error(`POSIX class "${u}" requires min target ES2024 or non-strict accuracy`);let e={graph:"!-~",print:" -~"}[u];l&&(e=`\0-${_(e.codePointAt(0)-1)}${_(e.codePointAt(2)+1)}-\u{10FFFF}`),t(eH(`[${e}]`))}}},Directive(e,t){let{node:r,parent:n,ast:a,remove:s,replaceWith:i,removeAllPrevSiblings:o,removeAllNextSiblings:l}=e,{kind:u,flags:c}=r;if(u===K.flags){if(c.enable||c.disable){let r=eX(ev({flags:c}),l());i(r),eZ(r,e,t,eF)}else s()}else if(u===K.keep){let e=a.pattern.alternatives[0].elements[0],t=ep(a.pattern,e=>e.type===eC.Group)&&1===e.alternatives.length?e:a.pattern;if(n.parent!==t||t.alternatives.length>1)throw Error(A`Uses "\K" in a way that's unsupported`);i(eX(eI({behind:!0}),o()))}},Flags({node:e,parent:t}){["digitIsAscii","extended","spaceIsAscii","wordIsAscii"].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,e.flags.enable||e.flags.disable||delete e.flags},Pattern:{enter({node:e},{supportedGNodes:t}){let r=[],n=!1,a=!1;for(let t of e.alternatives)if(1===t.elements.length&&t.elements[0].kind===em.search_start)t.elements.pop();else{let e=function e(t){let r=t.find(e=>e.kind===em.search_start||function(e,t){let r={negate:null,...t};return ed(e)&&(null===r.negate||e.negate===r.negate)&&ep(e,e=>e.kind===em.search_start)}(e,{negate:!1})||!function({type:e}){return e===eC.Assertion||e===eC.Directive}(e));if(!r)return null;if(r.kind===em.search_start)return r;if(ed(r))return r.alternatives[0].elements[0];if(ef(r)){let t=[];for(let n of r.alternatives){let r=e(n.elements);if(!r)return null;Array.isArray(r)?t.push(...r):t.push(r)}return t}return null}(t.elements);e?(n=!0,Array.isArray(e)?r.push(...e):r.push(e)):a=!0}n&&!a&&r.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if("strict"===t&&r&&n)throw Error(A`Uses "\G" in a way that requires non-strict accuracy`)}},Quantifier({node:e}){if(e.element.type===eC.Quantifier){let t=eX(ev(),[e.element]);t.parent=e,e.element=t}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||eW(r)||(r=eU(r,t),e.ref=r)},VariableLengthCharacterSet({node:e,replaceWith:t},{accuracy:r,minTargetEs2024:n}){let{kind:a}=e;if(a===eb.newline)t(eH("(?>\r\n?|[\n\v\f\x85\u2028\u2029])"));else if(a===eb.grapheme){if("strict"===r)throw Error(A`Use of "\X" requires non-strict accuracy`);let e=n?A`\p{RGI_Emoji}`:i().source.replace(/\\u\{/g,`\\x{`);t(eH(A`(?>\r\n|${e}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}))}else throw Error(`Unexpected varcharset kind "${a}"`)}},eR={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){let{orphan:n,ref:a}=e;n||r.set(e,[...t.get(a).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,replaceWith:t,skip:r},{groupOriginByCopy:n,groupsByName:a,multiplexCapturesToLeftByRef:s,openRefs:i,reffedNodesByReferencer:o}){let l=n.get(e);if(l&&i.has(e.number)){let n=eO(e.number);o.set(n,i.get(e.number)),t(n),r();return}i.set(e.number,e),s.set(e.number,[]),e.name&&M(s,e.name,[]);let u=s.get(e.name??e.number);for(let t=0;t<u.length;t++){let r=u[t];if(l===r.node||l&&l===r.origin||e===r.origin){u.splice(t,1);break}}if(s.get(e.number).push({node:e,origin:l}),e.name&&s.get(e.name).push({node:e,origin:l}),e.name){let t=M(a,e.name,new Map),r=!1;if(l)r=!0;else for(let e of t.values())if(!e.hasDuplicateNameToRemove){r=!0;break}a.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:r})}l&&(e._originNumber=l.number)},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=I(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Recursion({node:e,parent:t},{reffedNodesByReferencer:r}){let{ref:n}=e,a=t;for(;(a=a.parent)&&(a.type!==eC.CapturingGroup||a.name!==n&&a.number!==n););r.set(e,a)},Subroutine(e,t){let{node:r,replaceWith:n}=e,{ref:a}=r,s=t.subroutineRefMap.get(a),i=0===a,o=i?eO(0):function e(t,r,n,a){let s=Array.isArray(t)?[]:{};for(let[i,o]of Object.entries(t))"parent"===i?s.parent=Array.isArray(n)?a:n:o&&"object"==typeof o?s[i]=e(o,r,s,n):("type"===i&&o===eC.CapturingGroup&&r.set(s,r.get(t)??t),s[i]=o);return s}(s,t.groupOriginByCopy,null),l=o;if(!i){var u;let e=eV(function(e,t){let r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}(s,e=>e.type===eC.Group&&!!e.flags)),r=e?I(t.globalFlags,e):t.globalFlags;u=t.currentFlags,r.dotAll===u.dotAll&&r.ignoreCase===u.ignoreCase||(l=eX(ev({flags:function({dotAll:e,ignoreCase:t}){let r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),e&&t||(r.disable={},e||(r.disable.dotAll=!0),t||(r.disable.ignoreCase=!0)),r}(r)}),[o]))}n(l),i||eZ(l,e,t,eR)}},eN={Backreference({node:e,replaceWith:t},r){if(e.orphan){r.highestOrphanBackref=Math.max(r.highestOrphanBackref,e.ref);return}let n=r.reffedNodesByReferencer.get(e).filter(t=>(function(e,t){let r=t;do{if(r.type===eC.Pattern)return!1;if(r.type===eC.Alternative)continue;if(r===e)return!1;for(let t of eT(r.parent)){if(t===r)break;if(t===e||function e(t,r){for(let n of eT(t)??[])if(n===r||e(n,r))return!0;return!1}(t,e))return!0}}while(r=r.parent);throw Error("Unexpected path")})(t,e));if(n.length){if(n.length>1){let e=n.map(e=>eD(ex(),[ew(e.number)]));t(eD(ev(),e))}else e.ref=n[0].number}else t(eI({negate:!0}))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Recursion({node:e},t){0!==e.ref&&(e.ref=t.reffedNodesByReferencer.get(e).number)},Regex:{exit({node:e},t){let r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let t=0;t<r;t++){let t=e$();e.pattern.alternatives.at(-1).elements.push(t)}}}},eP="[	-\r ]",eB=A`[\p{L}\p{M}\p{N}\p{Pc}]`;function eD(e,t){return t.forEach(t=>t.parent=e),e[ej(e)]=t,e}function eO(e){return{type:eC.Recursion,ref:e}}function eU(e,t){if(t.has(e))return t.get(e);let r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function ej(e){for(let t of["alternatives","classes","elements"])if(e[t])return t;return null}function eV(e){let t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return(e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete r.disable[t],r.enable[t]=!0),e.disable?.[t]&&(r.disable[t]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable)?r:null}function eT(e){if(!e)throw Error("Node expected");if(e.type===eC.Quantifier)return[e.element];let t=ej(e);return t&&e[t]}function eW(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function eH(e,t){let r=ey(ei(e),t).pattern.alternatives;return r.length>1||r[0].elements.length>1?eD(ev(),r):r[0].elements[0]}function eX(e,t){let r=ej(e);return e[r][0].parent=e,t&&eD(e[r][0],t),e}function eQ(e,t){return e.negate=t,e}function eZ(e,{parent:t,key:r,container:n},a,s){eg({node:e,parent:t,key:r,container:n},a,s)}var eq={AnyGroup:{enter({node:e},t){let r=t.getCurrentModI();t.pushModI(e.flags?I({ignoreCase:r},e.flags).ignoreCase:r)},exit(e,t){t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){e1(_(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),e2(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===J.property&&q.has(e.value)&&t.setHasCasedChar()}},ez=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),eJ=new Set(["-","\\","]","^","["]),eK=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),eY=new Map([[9,A`\t`],[10,A`\n`],[11,A`\v`],[12,A`\f`],[13,A`\r`],[8232,A`\u2028`],[8233,A`\u2029`],[65279,A`\uFEFF`]]),e0=/^\p{Cased}$/u;function e1(e){return e0.test(e)}function e2(e,t){let r=!!t?.firstOnly,n=e.min.value,a=e.max.value,s=[];if(n<65&&(65535===a||a>=131071)||65536===n&&a>=131071)return s;for(let e=n;e<=a;e++){let t=_(e);if(!e1(t))continue;let i=P(t).filter(e=>{let t=e.codePointAt(0);return t<n||t>a});if(i.length&&(s.push(...i),r))break}return s}function e8(e,{isAfterBackref:t,inCharClass:r,useFlagV:n}){var a;if(eY.has(e))return eY.get(e);if(e<32||e>126&&e<160||e>262143||t&&(a=e)>47&&a<58)return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;let s=_(e);return((r?n?eK:eJ:ez).has(s)?"\\":"")+s}var e3=class e extends c{#e;rawArgs;constructor(t,r,n){if(t instanceof RegExp){if(n)throw Error("Cannot provide options when copying a regexp");super(t,r),t instanceof e?(this.#e=t.#e,this.rawArgs=t.rawArgs):(this.#e=null,this.rawArgs={pattern:t.source,flags:t.flags,options:{}}),void 0!==r&&(this.rawArgs.flags=r)}else{let e={strategy:null,useEmulationGroups:!1,...n};super(t,r,{useEmulationGroups:e.useEmulationGroups}),this.#e=e.strategy,this.rawArgs={pattern:t,flags:r??"",options:{...e.strategy?{strategy:e.strategy}:null,...e.useEmulationGroups?{useEmulationGroups:!0}:null}}}}exec(e){let t=super.exec,r=this.global||this.sticky,n=this.lastIndex;if("search_start_clip"===this.#e&&r&&n){this.lastIndex=0;let r=t.call(this,e.slice(n));return r&&(function(e,t,r,n){if(e.input=r,e.index+=n,t.hasIndices){let t=e.indices;for(let e=0;e<t.length;e++){let r=t[e];r&&(t[e]=[r[0]+n,r[1]+n])}let r=t.groups;r&&Object.keys(r).forEach(e=>{let t=r[e];t&&(r[e]=[t[0]+n,t[1]+n])})}}(r,this,e,n),this.lastIndex+=n),r}return t.call(this,e)}};class e9{constructor(e,t={}){this.patterns=e,this.options=t;let{forgiving:r=!1,cache:n,regexConstructor:a}=t;if(!a)throw Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;let t=n?.get(e);if(t){if(t instanceof RegExp)return t;if(r)return null;throw t}try{let t=a(e);return n?.set(e,t),t}catch(t){if(n?.set(e,t),r)return null;throw t}})}regexps;findNextMatchSync(e,t,r){let n="string"==typeof e?e:e.content,a=[];function s(e,t,r=0){return{index:e,captureIndices:t.indices.map(e=>null==e?{start:0xffffffff,end:0xffffffff,length:0}:{start:e[0]+r,end:e[1]+r,length:e[1]-e[0]})}}for(let e=0;e<this.regexps.length;e++){let r=this.regexps[e];if(r)try{r.lastIndex=t;let i=r.exec(n);if(!i)continue;if(i.index===t)return s(e,i,0);a.push([e,i,0])}catch(e){if(this.options.forgiving)continue;throw e}}if(a.length){let e=Math.min(...a.map(e=>e[1].index));for(let[t,r,n]of a)if(r.index===e)return s(t,r,n)}return null}}function e4(e,t){return function(e,t){let r=function(e,t){let r=R(t),n=r.avoidSubclass,a=function(e,t){let r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t},n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:L[r.bestEffortTarget]>=L.ES2024,passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};eg({node:e},n,eF);let a={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},s={currentFlags:a,prevFlags:null,globalFlags:a,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};return eg({node:e},s,eR),eg({node:e},{groupsByName:s.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:s.reffedNodesByReferencer},eN),e._strategy=n.strategy,e}(ey(ei(e,r.flags,{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}),{skipBackrefValidation:r.rules.allowOrphanBackrefs,verbose:r.verbose}),{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:n,bestEffortTarget:r.target}),s=function(e,t){let r=R(t),n=L[r.target]>=L.ES2024,a=L[r.target]>=L.ES2025,s=r.rules.recursionLimit;if(!Number.isInteger(s)||s<2||s>20)throw Error("Invalid recursionLimit; use 2-20");let i=null,o=null;if(!a){let t=[e.flags.ignoreCase];eg({node:e},{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?i=!0:o=!0}},eq)}let l={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||i)&&!o)},u=null,c={accuracy:r.accuracy,appliedGlobalFlags:l,avoidSubclass:r.avoidSubclass,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:u,recursionLimit:s,useAppliedIgnoreCase:!!(!a&&i&&o),useFlagMods:a,useFlagV:n,verbose:r.verbose},p=function e(t){switch(c.lastNode=u,u=t,t.type){case eC.Regex:return{pattern:e(t.pattern),flags:e(t.flags),options:{...t.options}};case eC.Alternative:return t.elements.map(e).join("");case eC.Assertion:return function(e,t,r){let{kind:n,negate:a,alternatives:s}=e;if(ed(e)){let e=`${n===em.lookahead?"":"<"}${a?"!":"="}`;return`(?${e}${s.map(r).join("|")})`}if(n===em.string_end)return"$";if(n===em.string_start)return"^";if(n===em.word_boundary)return a?A`\B`:A`\b`;throw Error(`Unexpected assertion kind "${n}"`)}(t,0,e);case eC.Backreference:return function({ref:e},t){if("number"!=typeof e)throw Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e}(t,c);case eC.CapturingGroup:return function({name:e,number:t,alternatives:r,_originNumber:n},a,s){return a.captureMap.set(t,{ignoreCase:a.currentFlags.ignoreCase}),`(${e?`?<${e}>`:""}${!a.avoidSubclass&&n?`${n<t?`$${n}`:""}$E$`:""}${r.map(s).join("|")})`}(t,c,e);case eC.Character:return function({value:e},t){let r=_(e),n=e8(e,{isAfterBackref:t.lastNode.type===eC.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&e1(r)){let e=P(r);return t.inCharClass?e.join(""):e.length>1?`[${e.join("")}]`:e[0]}return r}(t,c);case eC.CharacterClass:return function({negate:e,parent:t,elements:r},n,a){let s=()=>`[${e?"^":""}${r.map(a).join("")}]`;if(!n.inCharClass){n.inCharClass=!0;let e=s();return n.inCharClass=!1,e}let i=r[0]?.type;if(!e&&i&&((!n.useFlagV||!n.verbose)&&t.type===eC.CharacterClass&&i!==eC.CharacterClassIntersection||!n.verbose&&t.type===eC.CharacterClassIntersection&&1===r.length&&i!==eC.CharacterClass&&i!==eC.CharacterClassRange))return r.map(a).join("");if(!n.useFlagV&&t.type===eC.CharacterClass)throw Error("Use of nested character class requires min target ES2024");return s()}(t,c,e);case eC.CharacterClassIntersection:if(!c.useFlagV)throw Error("Use of class intersection requires min target ES2024");return t.classes.map(e).join("&&");case eC.CharacterClassRange:return function(e,t){let r=e.min.value,n=e.max.value,a={isAfterBackref:!1,inCharClass:!0,useFlagV:t.useFlagV},s=e8(r,a),i=e8(n,a),o=new Set;return t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&(function(e){let t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),r=[],n=null;for(let e=0;e<t.length;e++)t[e+1]===t[e]+1?n??=t[e]:null===n?r.push(t[e]):(r.push([n,t[e]]),n=null);return r})(e2(e)).forEach(e=>{o.add(Array.isArray(e)?`${e8(e[0],a)}-${e8(e[1],a)}`:e8(e,a))}),`${s}-${i}${[...o].join("")}`}(t,c);case eC.CharacterSet:return function({kind:e,negate:t,value:r,key:n},a){if(e===J.dot)return a.currentFlags.dotAll?a.appliedGlobalFlags.dotAll||a.useFlagMods?".":"[^]":A`[^\n]`;if(e===J.digit)return t?A`\D`:A`\d`;if(e===J.property){if(a.useAppliedIgnoreCase&&a.currentFlags.ignoreCase&&q.has(r))throw Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?A`\P`:A`\p`}{${n?`${n}=`:""}${r}}`}if(e===J.word)return t?A`\W`:A`\w`;throw Error(`Unexpected character set kind "${e}"`)}(t,c);case eC.Flags:return(c.appliedGlobalFlags.ignoreCase?"i":"")+(t.dotAll?"s":"")+(t.sticky?"y":"");case eC.Group:return function({atomic:e,flags:t,parent:r,alternatives:n},a,s){let i=a.currentFlags;t&&(a.currentFlags=I(i,t));let o=n.map(s).join("|"),l=a.verbose||1!==n.length||r.type===eC.Quantifier||e||a.useFlagMods&&t?`(?${function(e,t,r){if(e)return">";let n="";if(t&&r){let{enable:e,disable:r}=t;n=(e?.ignoreCase?"i":"")+(e?.dotAll?"s":"")+(r?"-":"")+(r?.ignoreCase?"i":"")+(r?.dotAll?"s":"")}return`${n}:`}(e,t,a.useFlagMods)}${o})`:o;return a.currentFlags=i,l}(t,c,e);case eC.Pattern:return t.alternatives.map(e).join("|");case eC.Quantifier:return e(t.element)+function({min:e,max:t,greedy:r,possessive:n}){return(e||1!==t?e||t!==1/0?1===e&&t===1/0?"+":e===t?`{${e}}`:`{${e},${t===1/0?"":t}}`:"*":"?")+(n?"+":r?"":"?")}(t);case eC.Recursion:return function({ref:e},t){let r=t.recursionLimit;return 0===e?`(?R=${r})`:A`\g<${e}&R=${r}>`}(t,c);default:throw Error(`Unexpected node type "${t.type}"`)}}(e);return n||(delete p.options.force.v,p.options.disable.v=!0,p.options.unicodeSetsPlugin=null),p}(a,r),i={useEmulationGroups:!n},c={pattern:function(e,t){let r;if(!/\(\?>/.test(e))return e;let n=`(?:(?=(${t?.useEmulationGroups?"$E$":""}`,a=[0],s=0,i=0,u=NaN;do{let t;r=!1;let o=0,l=0,c=!1;for(f.lastIndex=Number.isNaN(u)?0:u+n.length;t=f.exec(e);){let{0:p,index:f,groups:{capturingStart:d,noncapturingStart:g}}=t;if("["===p)o++;else if(o)"]"===p&&o--;else if("(?>"!==p||c){if(c&&g)l++;else if(d)c?l++:(s++,a.push(s+i));else if(")"===p&&c){if(!l){i++,e=`${e.slice(0,u)}${n}${e.slice(u+3,f)}))<$$${i+s}>)${e.slice(f+1)}`,r=!0;break}l--}}else u=f,c=!0}}while(r);return e=l(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:r}})=>{if(t){let r=+t;if(r>a.length-1)throw Error(`Backref "${e}" greater than number of captures`);return`\\${a[r]}`}return`\\${r}`},o.DEFAULT)}(function(e){let t;if(!RegExp(`${d}\\+`).test(e))return e;let r=[],n=null,a=null,s="",i=0;for(g.lastIndex=0;t=g.exec(e);){let{0:u,index:c,groups:{qBase:p,qMod:f,invalidQ:d}}=t;if("["===u)i||(a=c),i++;else if("]"===u)i?i--:a=null;else if(!i){if("+"===f&&s&&!s.startsWith("(")){if(d)throw Error(`Invalid quantifier "${u}"`);let t=-1;if(/^\{\d+\}$/.test(p)){var o,l;o=e,l=c+p.length,e=o.slice(0,l)+""+o.slice(l+f.length)}else{if(")"===s||"]"===s){let t=")"===s?n:a;if(null===t)throw Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,t)}(?>${e.slice(t,c)}${p})${e.slice(c+u.length)}`}else e=`${e.slice(0,c-s.length)}(?>${s}${p})${e.slice(c+u.length)}`;t+=4}g.lastIndex+=t}else"("===u[0]?r.push(c):")"===u&&(n=r.length?r.pop():null)}s=u}return e}(function(e,t){let r;if(!RegExp(m,"su").test(e))return e;if(u(e,h`\(\?\(DEFINE\)`,o.DEFAULT))throw Error("DEFINE groups cannot be used with recursion");let n=!!t?.useEmulationGroups,a=u(e,h`\\[1-9]`,o.DEFAULT),s=new Map,i=[],l=!1,c=0,p=0;for(y.lastIndex=0;r=y.exec(e);){let{0:t,groups:{captureName:f,rDepth:d,gRNameOrNum:g,gRDepth:C}}=r;if("["===t)c++;else if(c)"]"===t&&c--;else{if(d){if(E(d),l)throw Error(x);if(a)throw Error("Numbered backrefs cannot be used with global recursion");let t=e.slice(0,r.index),s=e.slice(y.lastIndex);if(u(s,m,o.DEFAULT))throw Error(x);return w(t,s,+d,!1,n)}if(g){E(C);let c=!1;for(let e of i)if(e.name===g||e.num===+g){if(c=!0,e.hasRecursedWithin)throw Error(x);break}if(!c)throw Error(h`Recursive \g cannot be used outside the referenced group "\g<${g}&R=${C}>"`);let p=s.get(g),f=function(e,t){let r;let n=/\\?./gsu;n.lastIndex=t;let a=e.length,s=0,i=1;for(;r=n.exec(e);){let[e]=r;if("["===e)s++;else if(s)"]"===e&&s--;else if("("===e)i++;else if(")"===e&&!--i){a=r.index;break}}return e.slice(t,a)}(e,p);if(a&&u(f,h`${b}|\((?!\?)`,o.DEFAULT))throw Error("Numbered backrefs cannot be used with recursion of capturing groups");let d=e.slice(p,r.index),m=f.slice(d.length+t.length),k=w(d,m,+C,!0,n),$=e.slice(0,p),_=e.slice(p+f.length);e=`${$}${k}${_}`,y.lastIndex+=k.length-t.length-d.length-m.length,i.forEach(e=>e.hasRecursedWithin=!0),l=!0}else if(f)p++,s.set(String(p),y.lastIndex),s.set(f,y.lastIndex),i.push({num:p,name:f});else if(t.startsWith("(")){let r="("===t;r&&(p++,s.set(String(p),y.lastIndex+(n?function(e,t){k.lastIndex=t;let r=k.exec(e);return r?r[0].length:0}(e,y.lastIndex):0))),i.push(r?{num:p}:{})}else")"===t&&i.pop()}}return e}(s.pattern,i)),i),flags:`${r.hasIndices?"d":""}${r.global?"g":""}${s.flags}${s.options.disable.v?"u":"v"}`},p=!n&&c.pattern.includes("$E$"),C=a._strategy;return(p||C)&&(c.options={...C?{strategy:C}:null,...p?{useEmulationGroups:p}:null}),c}(e,t);return r.options?new e3(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}(e,{global:!0,hasIndices:!0,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}function e5(e={}){let t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=e=>e4(e,{target:t.target}),{createScanner:e=>new e9(e,t),createString:e=>({content:e})}}function e6(){let e={cache:new Map,regexConstructor:()=>{throw Error("JavaScriptRawEngine: only support precompiled grammar")}};return{createScanner:t=>new e9(t,e),createString:e=>({content:e})}}}}]);